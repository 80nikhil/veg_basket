{% extends "adminpanel/base.html" %} {% block content %}

<h4 class="fw-bold mb-3">Wallet History</h4>

<div class="card p-3 table-responsive">
  <table class="table table-hover align-middle">
    <thead>
      <tr>
        <th>#</th>
        <th>User</th>
        <th>Amount</th>
        <th>Type</th>
        <th>Performed By</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      {% for h in histories %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ h.user.username }}</td>
        <td>â‚¹ {{ h.amount }}</td>
        <td>
          {% if h.payment_type == 'credit' %}
          <span class="badge bg-success">Credit</span>
          {% else %}
          <span class="badge bg-danger">Debit</span>
          {% endif %}
        </td>
        <td>{{ h.performed_by.username|default:"System" }}</td>
        <td>{{ h.created_at|date:"M d, Y H:i" }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6" class="text-center text-muted">
          No wallet history found
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
